<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Entretien Demo</title>
</head>
<body>
<div id="root" dir="auto"></div>

<script type="text/babel">


  async function List({ field }) {
    const [data, setData] = React.useState([]);
    try {
      const response = await fetch("http://localhost:3000/data");
      const json = await response.json();
      console.log('json', json);
      setData(json)
    } catch (e) {
      console.log('error while getting data', e);
    }

    return (
      <div>
        {data.map((o) => <div>{o[field]}</div>)}
      </div>
    );
  }

  function App() {
    return (
      <div>
        <p>Test</p>
        <List type={"nom"} />
      </div>
    );
  }

  ReactDOM.render(<App />, document.getElementById('root'));


</script>
<script src="https://unpkg.com/react@16.13.1/umd/react.production.min.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/react-dom@16.13.1/umd/react-dom.production.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/dataformsjs@4.0.1/js/react/jsxLoader.min.js"></script>
</body>
</html>
